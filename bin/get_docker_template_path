#!/usr/bin/env python

import os
import sys
import click

PATH_LIBS=os.path.join(os.path.dirname(os.path.realpath(__file__)), '..')
sys.path.append(PATH_LIBS)

from klue_docker_templates import locate

@click.command()
@click.option('--base/--no-base', help="Return the path of the Klue base image's template", default=False)
@click.option('--app/--no-app', help="Return the path of the app's Dockerfile template", default=False)
@click.option('--run/--no-run', help="Return the path of the app's Amazon Dockerrun template", default=False)
def main(base, app, run):

    filename = None
    if base:
        filename = 'Dockerfile.base.template'
    elif app:
        filename = 'Dockerfile.template'
    elif run:
        filename = 'Dockerrun.aws.json.template'
    else:
        raise Exception("Unknown template")

    print(locate(filename))

if __name__ == "__main__":
    main()
