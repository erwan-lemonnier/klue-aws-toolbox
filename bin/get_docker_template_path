#!/usr/bin/env python

import os
import sys
import click
import pkg_resources

@click.command()
@click.option('--base/--no-base', help="Return the path of the Klue base image's template", default=False)
@click.option('--app/--no-app', help="Return the path of the app's Dockerfile template", default=False)
@click.option('--run/--no-run', help="Return the path of the app's Amazon Dockerrun template", default=False)
def main(base, app, run):

    filename = None
    if base:
        filename = 'klue_docker_templates/Dockerfile.base.template'
    elif app:
        filename = 'klue_docker_templates/Dockerfile.template'
    elif run:
        filename = 'klue_docker_templates/Dockerrun.aws.json.template'
    else:
        raise Exception("Unknown template")

    path = pkg_resources.resource_filename(__name__, filename)
    if not os.path.isfile(path):
        path = os.path.join(os.path.dirname(sys.modules[__name__].__file__), filename)

    print(path)

if __name__ == "__main__":
    main()
